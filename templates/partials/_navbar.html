{% load static %}

<nav class='navbar navbar-sm navbar-expand my-0 py-0 navbar-light bg-heavy-rain'>
    <div class='container-fluid'>
        <a class='navbar-brand' href='#'>Navbar</a>

        <button class='navbar-toggler' type='button' data-bs-toggle='collapse' data-bs-target='#navbarNavDarkDropdown' aria-controls='navbarNavDarkDropdown' aria-expanded='false' aria-label='Toggle navigation'>
            <span class='navbar-toggler-icon'></span>
        </button>
        <div class='collapse navbar-collapse' id='navbarNavDarkDropdown'>
            <div class='navbar-nav'>
                <a class='nav-item nav-link' href="{% url 'index' %}">Link</a>
            </div>
        </div>
    </div>
</nav>

<div class='app-header header-lg bg-light header-text-dark'>
    <div class='app-header__logo'>
        <div class='header__pane ml-auto'>
            <div class='header-megamenu nav'>
                <div class='nav-item dropdown cat-button'>
                    <a class='nav-link dropdown-toggle cat-button-text' href='#' role='button' data-bs-toggle='dropdown' aria-expanded='false'>카테고리</a>
                    <div class='dropdown-content dropdown-menu dropdown-menu-light' aria-labelledby='navbarDarkDropdownMenuLink'>
                        <div class='dropdown dropdown-item dropend'>
                            <a class='nav-link dropdown-toggle' data-bs-toggle='dropdown' aria-expanded='false'>패션의류/잡화</a>
                            <div class='dropdown-menu'>
                                <a class='dropdown-item' href='#'>여성패션</a>
                                <a class='dropdown-item' href='#'>남성패션</a>
                                <a class='dropdown-item' href='#'>유아동패션</a>
                            </div>
                        </div>

                        <div class='dropdown dropdown-item dropend'>
                            <a class='nav-link dropdown-toggle' data-bs-toggle='dropdown' aria-expanded='false'>홈인테리어</a>
                            <div class='dropdown-menu'>
                                <a class='dropdown-item' href='#'>봄침구샵</a>
                                <a class='dropdown-item' href='#'>싱글하우스</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class='app-header__mobile-menu'>
        <div>
            <button type='button' class='hamburger hamburger--elastic mobile-toggle-nav'>
                <span class='hamburger-box'>
                    <span class='hamburger-inner'></span>
                </span>
            </button>
        </div>
    </div>

    <div class='app-header__menu'>
        <span>
            <button type='button' class='btn-icon btn-icon-only btn btn-primary btn-sm mobile-toggle-header-nav'>
                <span class='btn-icon-wrapper'>
                    <i class='fa fa-ellipsis-v fa-w-6'></i>
                </span>
            </button>
        </span>
    </div>

    <div class='app-header__content'>
        <div class='app-header-left mt-3'>
            <a class='navbar-brand' href="{% url 'index' %}">
                <img width='174' height='41' src="{% static 'images/logo.png' %}" alt=''>
            </a>

            <div class='search-wrapper'>
                <input type='text' class='search-input' placeholder='Type to search' aria-label='Search'>
                <button class='search-icon'>
                    <i class="pe-7s-search strong"></i>
                </button>
            </div>

            <div class='header-dots'>
                <div class='dropdown'>
                    {% if user and user.is_authenticated %}
                        <a href="{% url 'profile' user.id %}" aria-haspopup='true' aria-expanded='false' type='button' class='p-0 mr-2 btn btn-link'>
                            <span data-bs-toggle='dropdown' class='icon-wrapper icon-wrapper-alt rounded-circle'>
                                <span class='icon-wrapper-bg bg-primary'></span>
                                <i class='pe-7s-user text-primary'></i>
                            </span>
                        </a>

                        <div tabindex='-1' role='menu' aria-hidden='true' class='rm-pointers dropdown-menu-lg dropdown-menu dropdown-menu-right'>
                            <div class='dropdown-menu-header'>
                                <div class='dropdown-menu-header-inner bg-info'>
                                    <div class='menu-header-content text-left'>
                                        <div class='widget-content p-0'>
                                            <div class='widget-content-wrapper'>
                                                <div class='widget-content-left mr-3'>
                                                    <img width='42' class='rounded-circle' src="{% static '/images/user.png' %}" alt='User'>
                                                </div>
                                                <div class='widget-content-left'>
                                                    <div class='widget-heading'>{{ user }}</div>
                                                    <div class='widget-subheading opacity-8'>Title: {{ user.title }}</div>
                                                </div>
                                                <div class='widget-content-right mr-2'>
                                                    <a class='btn-pill btn-shadow btn-shine btn btn-focus' href="{% url 'logout' %}">로그아웃</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class='scroll-area-xs'>
                                <div class='scrollbar-container ps'>
                                    <div class='nav flex-column'>
                                        <div class='nav-item-header nav-item'>Activity</div>
                                        <a class='nav-item nav-link' href="{% url 'profile' user.id %}">마이 프로필</a>
                                        {% if user.is_admin %}
                                            <a class='nav-item nav-link' href="{% url 'admin:index' %}">관리자 대시보드</a>
                                        {% endif %}
                                    </div>
                                </div>
                            </div>

                            <div class="nav flex-column nav-item-divider mb-0 nav-item"></div>
                            <div class="grid-menu grid-menu-2col">
                                <div class="no-gutters row">
                                    <div class="col-sm-6">
                                        <a class='btn-icon-vertical btn-transition btn-transition-alt pt-2 pb-2 btn btn-outline-warning' href="#">
                                            <i class="pe-7s-chat btn-icon-wrapper mb-2"></i> 대화 내역
                                        </a>
                                    </div>
                                    <div class="col-sm-6">
                                        <a class="btn-icon-vertical btn-transition btn-transition-alt pt-2 pb-2 btn btn-outline-danger">
                                            <i class="pe-7s-ticket btn-icon-wrapper mb-2"></i> Support Tickets
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>

                    {% else %}

                        <div class='widget-content-left ml-3'>
                            <a class='nav-link' href="{% url 'login' %}">로그인</a>
                            <a class='nav-link' href="{% url 'signup' %}">가입</a>
                        </div>

                    {% endif %}
                </div>

                <div class='dropdown'>
                    <button type='button' data-bs-toggle='dropdown' class='p-0 mr-2 btn btn-link'>
                        <span class='icon-wrapper icon-wrapper-alt rounded-circle'>
                            <span class='icon-wrapper-bg bg-info'></span>
                            <i class='pe-7s-cart text-info'></i>
                        </span>
                    </button>

                    <div tabindex='-1' role='menu' aria-hidden='true' class='rm-pointers dropdown-menu dropdown-menu-right'>
                        <div class='dropdown-menu-header'>
                            <div class='dropdown-menu-header-inner pt-4 pb-4 bg-focus'>
                                <div class='menu-header-content text-center text-white'>
                                    <h6 class='menu-header-subtitle mt-0'>장바구니</h6>
                                </div>
                            </div>
                        </div>

                        <a href="{% url 'index' %}" tabindex='0' class="dropdown-item">
                            <i class='fa fa-shopping-cart'></i> 장바구니
                        </a>
                    </div>
                </div>

                <div class='dropdown'>
                    <button type='button' aria-haspopup='true' aria-expanded='false' data-bs-toggle='dropdown' class='p-0 mr-2 btn btn-link'>
                        <span class='icon-wrapper icon-wrapper-alt rounded-circle'>
                            <span class='icon-wrapper-bg bg-danger'></span>
                            <i class='pe-7s-bell text-danger'></i>
                            <span class='badge badge-dot badge-dot-sm badge-danger'>Notifications</span>
                        </span>
                    </button>

                    <div tabindex='-1' role='menu' aria-hidden='true' class='dropdown-menu-xl rm-pointers dropdown-menu dropdown-menu-right'>
                        <div class='dropdown-menu-header mb-0'>
                            <div class='dropdown-menu-header-inner bg-deep-blue'>
                                <div class='menu-header-content text-dark'>
                                    <h5 class='menu-header-title'>Notifications</h5>
                                    <h6 class='menu-header-subtitle'>You have <b>21</b> unread messages</h6>
                                </div>
                            </div>
                        </div>

                        <div class='tabs-animated-shadow tabs-animated nav nav-justified tabs-shadow-bordered p-3'>
                            <a role='tab' class='nav-item nav-link active' data-bs-toggle='tab' href='#tab-messages-header'>
                                <span>Messages</span>
                            </a>
                            <a role='tab' class='nav-item nav-link' data-bs-toggle='tab' href='#tab-errors-header'>
                                <span>System Errors</span>
                            </a>
                        </div>

                        <div class='tab-content'>
                            <div class='tab-pane active' id='tab-messages-header' role='tabpanel'>
                                <div class='scroll-area-sm'>
                                    <div class='scrollbar-container ps'>
                                        <div class='p-3'>
                                            <div class='notifications-box'>
                                                <div class='vertical-time-simple vertical-without-time vertical-timeline vertical-timeline--one-column'>
                                                    <div class='vertical-timeline-item dot-danger vertical-timeline-element'>
                                                        <div><span class='vertical-timeline-element-icon bounce-in'></span>
                                                            <div class='vertical-timeline-element-content bounce-in'>
                                                                <h4 class='timeline-title'>All Hands Meeting</h4>
                                                                <span class='vertical-timeline-element-date'></span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class='vertical-timeline-item dot-warning vertical-timeline-element'>
                                                        <div>
                                                            <span class='vertical-timeline-element-icon bounce-in'></span>
                                                            <div class='vertical-timeline-element-content bounce-in'>
                                                                <p>Yet another one, at <span class='text-success'>15:00 PM</span></p>
                                                                <span class='vertical-timeline-element-date'></span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class='tab-pane' id='tab-errors-header' role='tabpanel'>
                                <div class='scroll-area-sm'>
                                    <div class='scrollbar-container ps'>
                                        <div class='no-results pt-3 pb-0'>
                                            <div class='swal2-icon swal2-success swal2-animate-success-icon'>
                                                <span class='swal2-success-line-tip'></span>
                                                <span class='swal2-success-line-long'></span>
                                                <div class='swal2-success-ring'></div>
                                            </div>
                                            <div class='results-subtitle'>All caught up!</div>
                                            <div class='results-title'>There are no system errors!</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class='nav flex-column'>
                            <div class='nav-item-divider nav-item'></div>
                            <div class='nav-item-btn text-center nav-item'>
                                <button class='btn-shadow btn-wide btn-pill btn btn-focus btn-sm'>View Latest Changes</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class='collapse navbar-collapse navbar-nav'>
                <a class='nav-item nav-link'>test</a>
                <a class='nav-item nav-link'>test</a>
            </div>
        </div>

        <div class='app-header-left mt-2'>
            <a class="nav-item nav-link">test</a>
            <a class="nav-item nav-link">test</a>
        </div>
    </div>
</div>